<!DOCTYPE html><html lang="ja"><head><meta HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8"/><meta name="Author" content="Yasuhiro Yamakawa"/><title>Kawatabの技術メモ/Mozc</title><link rev="made" href="mailto:kawatab@yahoo.co.jp"/><link rel="stylesheet" href="base-style.css" type="text/css"/></head><header><h1><a href="index-ja.html">Kawatabの技術メモ</a></h1><p>主にLinuxを中心としたコンピュータ関連の技術情報を公開しています。 (<a href="mozc.html">English</a> | <a href="mozc-hu.html">Magyar</a> | 日本語)</p></header><section><h2>Mozc</h2><nav><ul class="tags"><li><a href="cplusplus-ja.html">C++</a></li><li><a href="cl-ja.html">CL</a></li><li><a href="debian-ja.html">Debian</a></li><li><a href="emacs-ja.html">Emacs</a></li><li><a href="fcitx-ja.html">Fcitx</a></li><li><a href="gradle-ja.html">Gradle</a></li><li><a href="ibus-ja.html">iBus</a></li><li><a href="kde-ja.html">KDE</a></li><li><a href="kotlin-ja.html">Kotlin</a></li><li class="current-page">Mozc</li><li><a href="network-ja.html">Network</a></li><li><a href="racket-ja.html">Racket</a></li><li><a href="sbcl-ja.html">SBCL</a></li><li><a href="sogo-ja.html">Sogo</a></li><li><a href="sql-ja.html">SQL</a></li><li><a href="vlc-ja.html">VLC</a></li><li><a href="x11-ja.html">X11</a></li></ul></nav></section><article><header><h3 id="2015011801">月配列で漢字直接入力</h3><p class="modify-date"><time datetime="2015-01-18">2015-01-18</time></p></header><p>使用頻度の高い漢字を少しだけ直接入力できるように変更しました。「早速」「今日」「今月」「そんな感じです」「会合」「人間」「出来」「本当」「金言」「後日」「水上」「水分」「気合」などを変換無しで入力できます。</p><p>シフト無し</p><table><tr><td>１２３４５６７８９０−＝</td></tr><tr><td>そこしてょつんいのりち</td></tr><tr><td>はか゗とたくう゘゛きれ</td></tr><tr><td>すけになさっる、。゜・</td></tr></table><p>右シフト</p><table><tr><td>一二三四五火水木金土週円</td></tr><tr><td>ぁひほふめ早速会合出入</td></tr><tr><td>ぃをらあよ言行ゑ気目見</td></tr><tr><td>ぅへせゅゃ今本当何来感</td></tr></table><p>左シフト</p><table><tr><td>十百千万億六七八九〇〜≒</td></tr><tr><td>年月日時分ぬえみやぇ「　</td></tr><tr><td>上間ゐ前後まおもわゆ」</td></tr><tr><td>下大中小人むろねーぉ／</td></tr></table><nav><ul class="tags"><li><a href="emacs-ja.html">Emacs</a></li><li><a href="fcitx-ja.html">Fcitx</a></li><li class="current-page">Mozc</li></ul></nav></article><article><header><h3 id="2014092801">月配列2-263式を使えるようにする</h3><p class="modify-date"><time datetime="2014-09-28">2014-09-28</time></p></header><p>月配列2-263式を使えるようにしたmozcを公開しています。FcitxやiBus、mozc.elを介して使うことができます。<code>ibus-mozc_1.15.1857.102-1_i368.deb</code>や<code>mozc-data_1.15.1857.102-1_all.deb</code>、<code>mozc-server_1.15.1857.102-1_i386.deb</code>の他に、<code>fcitx-mozc_1.15.1857.102-1_i386.deb</code>や<code>ibus-mozc_1.15.1857.102-1_i386.deb</code>、<code>emacs-mozc-bin_1.15.1857.102-1_i386.deb</code>、<code>emacs-mozc_1.15.1857.102-1_i386.deb</code>をインストールする必要があります。</p><p>uim-mozcはテストしていませんが、変更はしてあるので、使えるかもしれません</p><p><a href="https://github.com/kawatab/mozc-tsuki">https://github.com/kawatab/mozc-tsuki</a></p><nav><ul class="tags"><li><a href="debian-ja.html">Debian</a></li><li><a href="emacs-ja.html">Emacs</a></li><li><a href="fcitx-ja.html">Fcitx</a></li><li><a href="ibus-ja.html">iBus</a></li><li class="current-page">Mozc</li></ul></nav></article><article><header><h3 id="2014020101">Mozcの書き換え</h3><p class="modify-date"><time datetime="2014-02-01">2014-02-01</time></p></header><section><h4>ソースの取得</h4><pre class="command"><code>$ apt-get source mozc</code></pre></section><section><h4>依存ファイルの取得</h4><pre class="command"><code>$ apt-get build-dep mozc</code></pre></section><section><h4>deb作成</h4><pre class="command"><code>$ dpkg-buildpackage -r -uc -b</code></pre></section><section><h4>mozcかな入力設定関連ファイル</h4><table><tr><td><code>data/preedit/kana.tsv</code></td><td>濁音・半濁音テーブル</td></tr><tr><td><code>composer/table.cc</code></td><td>濁点・半濁点テーブルの位置を示す。</td></tr><tr><td><code>composer/internal/char-chunk.cc</code></td><td>未入力文字の処理</td></tr><tr><td><code>unix/ibus/key-translator.cc</code></td><td>iBus用のレイアウト</td></tr><tr><td><code>data/preedit/normalize_voiced_sound.tsv</code></td><td>「ゔ」の定義。ひらがなで打っても自動的にカタカナに変換される。</td></tr></table></section><section><h4>書き換え手順とインストール</h4><ol><li><code>unix/ibus/key_translator.cc</code>の<code>kana_map_US[]</code>の初期設定を変更する。</li><li><code>data/preedit/kana.tsv</code>を書き換える。</li><li>ビルドして、debを作る。</li><li>インストールする。</li><li><code>/usr/share/ibux/component/mozc/xml</code>の<code>layout</code>を<code>us</code>に書き換える。</li><li><code>mozc_engine.cc</code><code>のis_layout_jp関連</code></li></ol></section><nav><ul class="tags"><li><a href="debian-ja.html">Debian</a></li><li><a href="ibus-ja.html">iBus</a></li><li class="current-page">Mozc</li></ul></nav></article><footer><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="クリエイティブ・コモンズ・ライセンス" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png"/></a><address><a href="mailto:kawatab@yahoo.co.jp">Yasuhiro Yamakawa &lt;kawatab@yahoo.co.jp&gt;</a></address><p>この作品は<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">クリエイティブ・コモンズ 表示 4.0 国際 ライセンス</a>の下に提供されています。</p><p>This page is generated by <a href="https://github.com/kawatab/kawatab.github.io">webpage-generator.rkt</a>, using <a href="http://racket-lang.org/">the Racket language</a>.</p></footer></html>