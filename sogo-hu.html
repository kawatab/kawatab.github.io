<!DOCTYPE html><html lang="hu"><head><meta HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8" /><meta name="Author" content="Yasuhiro Yamakawa" /><title>Kawatab tippek/Sogo</title><link rev="made" href="mailto:kawatab@yahoo.co.jp" /><link rel="stylesheet" href="base-style.css" type="text/css" /></head><header><h1>Kawatab tippek</h1><p>Ez a tippek számítógép használathóz és konfigurációhóz. (<a href="sogo.html">English</a> | Magyar | <a href="sogo-ja.html">日本語</a>)</p></header><section><h2>Sogo</h2><nav><ul class="tags"><li><a href="debian-hu.html">Debian</a></li><li><a href="emacs-hu.html">Emacs</a></li><li><a href="fcitx-hu.html">Fcitx</a></li><li><a href="kde-hu.html">KDE</a></li><li><a href="mozc-hu.html">Mozc</a></li><li><a href="network-hu.html">Network</a></li><li><a href="racket-hu.html">Racket</a></li><li class="current-page">Sogo</li><li><a href="vlc-hu.html">VLC</a></li><li><a href="x11-hu.html">X11</a></li></ul></nav></section><article><header><h3 id="2014053101">Sogo</h3><p class="modify-date"><time datetime="2014-05-31">2014-05-31</time></p></header><section><h4>データベースの準備</h4><p>公式ガイドのp.28に従う。</p><pre class="command"><code>su - postgres
createuser --no-superuser --no-createdb --no-createrole --encrypted --pwprompt sogo</code></pre><p>(specify “sogo” as password)</p><pre class="command"><code>createdb -O sogo sogo</code></pre></section><section><h4>postgreSQLに接続する。</h4><pre class="command"><code>psql sogo</code></pre><p>DebianWikiの方法に従う。ただし、<code>sogo_users</code>ではなく<code>sogo_view</code>にする。</p><pre class="config"><code>CREATE TABLE sogo_view (c_uid VARCHAR(10) PRIMARY KEY, c_name VARCHAR(10), c_password VARCHAR(32), c_cn VARCHAR(128), mail VARCHAR(128));
INSERT INTO sogo_users VALUES ('paul', 'paul', MD5('zxc'), 'Paul Example', 'paul@example.com');</code></pre></section><section><h4>PostgreSQLでの権限追加</h4><pre class="command"><code>GRANT ALL PRIVILEGES ON sogo_users TO sogo</code></pre><P>公式ガイドのp.28に従う。</P><p><code>/var/lib/pgsql/data/pg_hba.conf</code></p><p>Debianの場合は<code>/etc/postgresql/9.1/main/pg_hba.conf</code></p></section><setcion><h4>SOGoの設定</h4><p>公式ガイドのp.31の設定。以下の設定を追加し、タイムゾーンなどをいじる。</p><pre class="config"><code>SOGoUserSources =
(
 {
  type = sql;
       id = directory;
       viewURL = "postgresql://sogo:sogo@127.0.0.1:5432/sogo/sogo_view";
       canAuthenticate = YES;
       isAddressBook = YES;
       userPasswordAlgorithm = md5;
       }
 );"))</code></pre><pre class="command"><code>$ cp /usr/share/doc/sogo/apache.conf /etc/apache2/conf.d/SOGo.conf
$ sudo vi /etc/apache2/conf.d/SOGo.conf</code></pre><p>ipアドレスを書き換え</p><pre class="config"><code>## adjust the following to your configuration
  RequestHeader set "x-webobjects-server-port" "443"
  RequestHeader set "x-webobjects-server-name" "192.168.0.119"
  RequestHeader set "x-webobjects-server-url" "https://192.168.0.119"</code></pre><pre class="command"><code>$ sudo service apache2 restart</code></pre></setcion><section><h4>SSLの設定</h4><p>標準的な方法</p><pre class="config"><code>&lt;Directory /usr/lib/GNUstep/SOGo&gt;
    Require all granted
    # Explicitly allow caching of static content to avoid browser specific behavior.
    # A resource's URL MUST change in order to have the client load the new version.
    &lt;IfModule expires_module&gt;
      ExpiresActive On
      ExpiresDefault "access plus 1 year"
    &lt;/IfModule&gt;
&lt;/Directory&gt;</code></pre></section><nav><ul class="tags"><li><a href="debian-hu.html">Debian</a></li><li class="current-page">Sogo</li></ul></nav></article><footer><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licenc" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><address><a href="mailto:kawatab@yahoo.co.jp">Yasuhiro Yamakawa &lt;kawatab@yahoo.co.jp&gt;</a></address><p>Ez a Mű a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Nevezd meg! 4.0 Nemzetközi Licenc</a> feltételeinek megfelelően felhasználható.</p><p>This page is Generated by <a href="https://github.com/kawatab/kawatab.github.io">webpage-generator.rkt</a>, using <a href="http://racket-lang.org/">the Racket language</a>.</p></footer></html>