<!DOCTYPE html><html lang="en"><head><meta HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8" /><meta name="Author" content="Yasuhiro Yamakawa" /><title>Kawatab's tips/Network</title><link rev="made" href="mailto:kawatab@yahoo.co.jp" /><link rel="stylesheet" href="base-style.css" type="text/css" /></head><header><h1>Kawatab's tips</h1><p>This is my tips for using and setting up Computer, mainly Linux. (English | <a href="network-hu.html">Magyar</a> | <a href="network-ja.html">日本語</a>)</p></header><section><h2>Network</h2><ul class="tags"><li><a href="debian.html">Debian</a></li><li><a href="emacs.html">Emacs</a></li><li><a href="fcitx.html">Fcitx</a></li><li><a href="kde.html">KDE</a></li><li><a href="mozc.html">Mozc</a></li><li class="current-page">Network</li><li><a href="vlc.html">VLC</a></li></ul></section><article><header><h3 id="2014052501_rkt">ssh</h3><p class="modify-date"><time datetime="2014-05-25">2014-05-25</time></p></header><section><h4>必要なパッケージ</h4><h5>サーバ</h5><p>openssh-server</p><h5>クライアント</h5><P>openssh-client</P><h4>サーバの設定</h4><h5>/etc/ssh/sshd_config</h5><p><code>/etc/ssh/sshd_config</code>に以下の変更を加える。</p><pre class="config"><code>Port 22                                     # ポート番号は適当に物に書き換える。
PermitRootLogin no                          #rootユーザはログインできないようにする。
AuthorizedKeyFile %h/.ssh/authorized_keys   #コメントを外す。
DenyUsers ALL                               #追加
Allowusers your_name                        #追加</code></pre><p>変更したら</p><pre class="command"><code># invoke-rc.d ssh restart</code></pre><p>を実行する。</p><h4>キーの作成</h4><pre class="command">$ ssh-keygen</pre><P>manには次のように書かれているので、オプションは要らない。</P><blockquote>ssh-keygen generates, manages and converts authentication keys for ssh(1).  ssh-keygen can create RSA keys for use by SSH protocol version 1 and DSA, ECDSA or RSA keys for use by SSH protocol version 2.  The type of key to be generated is specified with the -t option.  If invoked without any arguments, ssh-keygen will generate an RSA key for use in SSH protocol 2 connections.</blockquote><p>具体的には</p><pre class="command"><code>$ ssh-keygen
$ cat .ssh/id_rsa.pub &gt; .ssh/authorized_keys</code></pre><p>でOK。<code>ssh-keygen</code>の実行時には保存場所の確認とパスワードの入力が必要。公開鍵（id_rsa.pub）は<code>~/.ssh/authorized_keys</code>に書き込む。パーミッションは600。</p><h4>クライアントの設定</h4><p>秘密鍵（id_rsa）をネットワークを介さない方法でコピーする。</p><h5>Linuxからアクセスする場合</h5><pre class="command"><code>$ ssh -p [ポート番号] -i [秘密鍵] [ユーザ名]@[ipアドレス]</code></pre></section><footer><ul class="tags"><li><a href="debian.html">Debian</a></li><li class="current-page">Network</li></ul></footer></article><footer><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><address><a href="mailto:kawatab@yahoo.co.jp">Yasuhiro Yamakawa &lt;kawatab@yahoo.co.jp&gt;</a></address><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License.</a></footer></html>